<!DOCTYPE html>
<html lang="en">

<head></head>
<style>
    .team {
        padding-top: 0.5%;
        padding-bottom: 0.5%;
    }

    .tablink {
        background-color: rgb(175, 174, 174);
        color: white;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        font-size: 17px;
        width: 50%;
    }

    .tablink:hover {
        background-color: gray;
    }

    .tabcontent {
        color: rgb(0, 0, 0);
        display: none;
        padding: 50px 20px;
        height: 100%;
    }

    .choice {
        display: flex;
        margin-top: 1%;
        justify-content: space-between;
        max-width: 950px;
    }
</style>

<body>
    <button class="tablink" onclick="openPage('charts', this)" id="defaultOpen">Charts</button>
    <button class="tablink" onclick="openPage('generate', this)">Generate points per game JSON</button>

    <div id="charts" class="tabcontent">
        <h1>Points percentage by team local start time</h1>

        <div id="container">
            <div class="team">
                <button type='button' value='ana' onclick='showChart(this)'>Anaheim Ducks</button>
                <div id="ana" style="display:none"></div>
                <div id="anaJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='ari' onclick='showChart(this)'>Arizona Coyotes</button>
                <div id="ari" style="display:none"></div>
                <div id="ariJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='bos' onclick='showChart(this)'>Boston Bruins</button>
                <div id="bos" style="display:none"></div>
                <div id="bosJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='buf' onclick='showChart(this)'>Buffalo Sabres</button>
                <div id="buf" style="display:none"></div>
                <div id="bufJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='cal' onclick='showChart(this)'>Calgary Flames</button>
                <div id="cal" style="display:none"></div>
                <div id="calJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='car' onclick='showChart(this)'>Carolina Hurricanes</button>
                <div id="car" style="display:none"></div>
                <div id="carJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='chi' onclick='showChart(this)'>Chicago Blackhawks</button>
                <div id="chi" style="display:none"></div>
                <div id="chiJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='col' onclick='showChart(this)'>Colorado Avalanche</button>
                <div id="col" style="display:none"></div>
                <div id="colJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='cbj' onclick='showChart(this)'>Columbus Blue Jackets</button>
                <div id="cbj" style="display:none"></div>
                <div id="cbjJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='dal' onclick='showChart(this)'>Dallas Stars</button>
                <div id="dal" style="display:none"></div>
                <div id="dalJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='det' onclick='showChart(this)'>Detroit Red Wings</button>
                <div id="det" style="display:none"></div>
                <div id="detJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='edm' onclick='showChart(this)'>Edmonton Oilers</button>
                <div id="edm" style="display:none"></div>
                <div id="edmJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='flo' onclick='showChart(this)'>Florida Panthers</button>
                <div id="flo" style="display:none"></div>
                <div id="floJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='lak' onclick='showChart(this)'>Los Angeles Kings</button>
                <div id="lak" style="display:none"></div>
                <div id="lakJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='min' onclick='showChart(this)'>Minnesota Wild</button>
                <div id="min" style="display:none"></div>
                <div id="minJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='mon' onclick='showChart(this)'>Montréal Canadiens</button>
                <div id="mon" style="display:none"></div>
                <div id="monJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='nsh' onclick='showChart(this)'>Nashville Predators</button>
                <div id="nsh" style="display:none"></div>
                <div id="nshJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='njd' onclick='showChart(this)'>New Jersey Devils</button>
                <div id="njd" style="display:none"></div>
                <div id="njdJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='nyi' onclick='showChart(this)'>New York Islanders</button>
                <div id="nyi" style="display:none"></div>
                <div id="nyiJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='nyr' onclick='showChart(this)'>New York Rangers</button>
                <div id="nyr" style="display:none"></div>
                <div id="nyrJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='ott' onclick='showChart(this)'>Ottawa Senators</button>
                <div id="ott" style="display:none"></div>
                <div id="ottJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='phi' onclick='showChart(this)'>Philadelphia Flyers</button>
                <div id="phi" style="display:none"></div>
                <div id="phiJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='pit' onclick='showChart(this)'>Pittsburgh Penguins</button>
                <div id="pit" style="display:none"></div>
                <div id="pitJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='sjs' onclick='showChart(this)'>San Jose Sharks</button>
                <div id="sjs" style="display:none"></div>
                <div id="sjsJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='stl' onclick='showChart(this)'>St. Louis Blues</button>
                <div id="stl" style="display:none"></div>
                <div id="stlJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='tbl' onclick='showChart(this)'>Tampa Bay Lightning</button>
                <div id="tbl" style="display:none"></div>
                <div id="tblJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='tml' onclick='showChart(this)'>Toronto Maple Leafs</button>
                <div id="tml" style="display:none"></div>
                <div id="tmlJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='van' onclick='showChart(this)'>Vancouver Canucks</button>
                <div id="van" style="display:none"></div>
                <div id="vanJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='vgk' onclick='showChart(this)'>Vegas Golden Knights</button>
                <div id="vgk" style="display:none"></div>
                <div id="vgkJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='wsh' onclick='showChart(this)'>Washington Capitals</button>
                <div id="wsh" style="display:none"></div>
                <div id="wshJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='win' onclick='showChart(this)'>Winnipeg Jets</button>
                <div id="win" style="display:none"></div>
                <div id="winJson" style="display:none"></div>
            </div>
            <div class="team">
                <button type='button' value='league' onclick='showChart(this)'>League Average</button>
                <div id="league" style="display:none"></div>
                <div id="leagueJson" style="display:none"></div>
            </div>
        </div>
    </div>

    <div id="generate" class="tabcontent">
        <div class="choice">
            <label for="Team">Choose a team:</label>
            <select id="teams" onchange="updateTeam()">
                <option value="999">Select one</option>
                <option value="24">Anaheim Ducks</option>
                <option value="53">Arizona Coyotes</option>
                <option value="6">Boston Bruins</option>
                <option value="7">Buffalo Sabres</option>
                <option value="20">Calgary Flames</option>
                <option value="12">Carolina Hurricanes</option>
                <option value="16">Chicago Blackhawks</option>
                <option value="21">Colorado Avalanche</option>
                <option value="29">Columbus Blue Jackets</option>
                <option value="25">Dallas Stars</option>
                <option value="17">Detroit Red Wings</option>
                <option value="22">Edmonton Oilers</option>
                <option value="13">Florida Panthers</option>
                <option value="26">Los Angeles Kings</option>
                <option value="30">Minnesota Wild</option>
                <option value="8">Montréal Canadiens</option>
                <option value="18">Nashville Predators</option>
                <option value="1">New Jersey Devils</option>
                <option value="2">New York Islanders</option>
                <option value="3">New York Rangers</option>
                <option value="9">Ottawa Senators</option>
                <option value="4">Philadelphia Flyers</option>
                <option value="5">Pittsburgh Penguins</option>
                <option value="28">San Jose Sharks</option>
                <option value="19">St. Louis Blues</option>
                <option value="14">Tampa Bay Lightning</option>
                <option value="10">Toronto Maple Leafs</option>
                <option value="23">Vancouver Canucks</option>
                <option value="54">Vegas Golden Knights</option>
                <option value="15">Washington Capitals</option>
                <option value="52">Winnipeg Jets</option>
            </select>
            OR
            <button onclick="getLeagueTotal()">Get League Total</button>
            (Note: This basically just outputs the points each game that the other tab displays)
        </div>

        <p id="p1"></p>
        <p id="p2"></p>
        <p id="p3"></p>

    </div>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        // Javascript used by the generate tab

        // Fill timezone offset for each team
        offsets = {};
        offsets["1"] = 5; //NJD
        offsets["2"] = 5; //NYI
        offsets["3"] = 5; //NYR
        offsets["4"] = 5; //PHI
        offsets["5"] = 5; //PIT
        offsets["6"] = 5; //BOS
        offsets["7"] = 5; //BUF
        offsets["8"] = 5; //MON
        offsets["9"] = 5; //OTT
        offsets["10"] = 5; //TOR
        offsets["12"] = 5; //CAR
        offsets["13"] = 5; //FLA
        offsets["14"] = 5; //TBL
        offsets["15"] = 5; //WSH
        offsets["16"] = 6; //CHI
        offsets["17"] = 5; //DET
        offsets["18"] = 6; //NSH
        offsets["19"] = 6; //STL
        offsets["20"] = 7; //CGY
        offsets["21"] = 7; //COL
        offsets["22"] = 7; //EDM
        offsets["23"] = 8; //VAN
        offsets["24"] = 8; //ANA
        offsets["25"] = 6; //DAL
        offsets["26"] = 8; //LAK
        offsets["28"] = 8; //SJS
        offsets["29"] = 5; //CBJ
        offsets["30"] = 6; //MIN
        offsets["52"] = 6; //WPG
        offsets["53"] = 8; //ARI
        offsets["54"] = 8; //VGK

        async function getData(url) {
            const response = await fetch(url);
            return response.json();
        }

        async function getSchedule(teamId) {
            var result = [];
            const url = `https://statsapi.web.nhl.com/api/v1/schedule?teamId=${teamId}&startDate=2019-10-02&endDate=2020-03-11`;
            return await getData(url);
        }

        async function getGameLineScore(id) {
            const url = `https://statsapi.web.nhl.com/api/v1/game/${id}/linescore`;
            return await getData(url);
        }

        async function getGameBoxScore(id) {
            const url = `https://statsapi.web.nhl.com/api/v1/game/${id}/boxscore`;
            return await getData(url);
        }

        function getTeamPointsFromGame(lineScoreJson, teamId) {
            var teamScore = 0;
            var otherScore = 0;
            if (lineScoreJson['teams']['home']['team']['id'] == teamId) {
                teamScore = lineScoreJson['teams']['home']['goals'];
                otherScore = lineScoreJson['teams']['away']['goals'];
            }
            else {
                otherScore = lineScoreJson['teams']['home']['goals'];
                teamScore = lineScoreJson['teams']['away']['goals'];
            }
            if (teamScore > otherScore) {
                return 2;
            }
            // OT or shootout loss
            else if (lineScoreJson['currentPeriodOrdinal'] != '3rd') {
                return 1;
            }
            else {
                return 0;
            }
        }

        // Input is a date string
        function isDateDaylightSavingTime(dateStr) {
            var date = new Date(dateStr);
            var month = date.getUTCMonth() + 1;
            // If the month is Jan, Feb, Dec, it is not DST for sure
            if (month == 1 || month == 2 || month == 12) {
                return false;
            }
            // If month is April to Oct, it is DST for sure
            if (month >= 4 && month <= 10) {
                return true;
            }
            var year = date.getUTCFullYear();
            var day = date.getUTCDate() + 1;
            var hours = date.getUTCHours() + 1;
            switch (year) {
                case 2020:
                    // 2020 : Mar 8, 2020 - Nov 1, 2020
                    if (month == 3) {
                        if (day <= 7) {
                            return false;
                        }
                        if (day >= 9) {
                            return true;
                        }
                        if (hours >= 10) {
                            return true;
                        }
                        else {
                            return false;
                        }
                    }
                    else {
                        if (day >= 2) {
                            return false;
                        }
                        if (hours <= 10) {
                            return true;
                        }
                        else {
                            return false;
                        }
                    }
                    break;
                case 2019:
                    // 2019 : Mar 10, 2019 - Nov 3, 2019
                    if (month == 3) {
                        if (day <= 9) {
                            return false;
                        }
                        if (day >= 11) {
                            return true;
                        }
                        if (hours >= 10) {
                            return true;
                        }
                        else {
                            return false;
                        }
                    }
                    else {
                        if (day >= 4) {
                            return false;
                        }
                        if (day <= 2) {
                            return true;
                        }
                        if (hours <= 10) {
                            return true;
                        }
                        else {
                            return false;
                        }
                    }
                    break;
                default:
                    return true;
            }
        }

        // Returns HH:MM based on teamId local time (24 hours)
        function getStartTime(teamId, dateStr) {
            offset = offsets[teamId.toString()];
            if (isDateDaylightSavingTime(dateStr)) {
                offset = offset - 1;
            }
            var date = new Date(dateStr);
            date.setMinutes(date.getMinutes() - (offset * 60));
            var minutesString = date.getMinutes() == 0 ? "00" : date.getMinutes();
            return date.getUTCHours() + ":" + minutesString;
        }

        // Converts an object of start time to array of points earned to object of start time and points percentage of those points
        function getPointsPercentages(startTimeToPointsPerGame) {
            var startTimeToPointsPercentage = {};
            for (var startTime in startTimeToPointsPerGame) {
                var totalPoints = startTimeToPointsPerGame[startTime].reduce((a, b) => a + b, 0);
                var percentage = totalPoints / (startTimeToPointsPerGame[startTime].length * 2);
                startTimeToPointsPercentage[startTime] = percentage;
            }
            return startTimeToPointsPercentage;
        }

        function sortByStartTime(startTimeToPoints) {
            var startTimes = Object.keys(startTimeToPoints);
            startTimes.sort(function (a, b) {
                hourA = parseInt(a.split(":")[0]);
                hourB = parseInt(b.split(":")[0]);
                minutesA = parseInt(a.split(":")[1]);
                minutesB = parseInt(b.split(":")[1]);
                if (hourA == hourB) {
                    return minutesA - minutesB;
                }
                else {
                    return hourA - hourB;
                }
            });
            result = {};
            startTimes.forEach(startTime => result[startTime] = startTimeToPoints[startTime]);
            return result;
        }

        function print(startTimeToPoints) {
            var result = ``;
            var totalPoints = 0;
            var totalPossiblePoints = 0;
            for (const [key, value] of Object.entries(startTimeToPoints)) {
                var points = value.reduce((a, b) => a + b, 0);
                var possiblePoints = value.length*2;
                var percentage = points / possiblePoints;
                totalPoints += points;
                totalPossiblePoints += possiblePoints;
                result += key + `:  ${value.toString()}  ( + ${percentage.toFixed(3)}  points percentage)<p>`;
            }
            result += `Total points percentage: ${(totalPoints/totalPossiblePoints).toFixed(3)}`
            return result;
        }

        async function updateTeam() {
            teamId = document.getElementById("teams").value;
            if (teamId == 999) {
                return;
            }
            var schedule = await (getSchedule(teamId));
            document.getElementById("p1").innerHTML = `Calculating per team...`;
            document.getElementById("p2").innerHTML = ``;
            document.getElementById("p3").innerHTML = ``;

            var points = 0;
            var startTimeToPoints = {};

            for (var i = 0; i < schedule['dates'].length; i++) {
                var pk = schedule['dates'][i]['games'][0]['gamePk'];
                var pointsFromGame = getTeamPointsFromGame(await getGameLineScore(pk), teamId);
                points += pointsFromGame;
                var convertedStartTime = getStartTime(teamId, schedule['dates'][i]['games'][0]['gameDate']);
                if (convertedStartTime in startTimeToPoints) {
                    startTimeToPoints[convertedStartTime].push(pointsFromGame);
                }
                else {
                    startTimeToPoints[convertedStartTime] = [pointsFromGame];
                }
            }
            startTimeToPoints = sortByStartTime(startTimeToPoints);
            document.getElementById("p1").innerHTML = JSON.stringify(startTimeToPoints);
            document.getElementById("p2").innerHTML = "Total points: " + points;
            document.getElementById("p3").innerHTML = print(startTimeToPoints);
        }

        async function getLeagueTotal() {
            document.getElementById("p2").innerHTML = ``;
            document.getElementById("p3").innerHTML = ``;
            var teamsSelect = document.getElementById("teams");
            var teams = [];
            for (var i = 1; i < teamsSelect.length; i++) {
                teams.push(teamsSelect[i].value);
            }
            var totalGames = 0;
            var totalPoints = 0;
            var startTimeToPoints = {};

            for (var team = 0; team < teams.length; team++) {
                document.getElementById("p1").innerHTML = `Calculating league total for team ` + (team + 1) + ` out of ` + teams.length;
                var teamId = teams[team];
                var schedule = await (getSchedule(teamId));
                for (var j = 0; j < schedule['dates'].length; j++) {
                    totalGames++;
                    var pk = schedule['dates'][j]['games'][0]['gamePk'];
                    var pointsFromGame = getTeamPointsFromGame(await getGameLineScore(pk), teamId);
                    totalPoints += pointsFromGame;
                    var convertedStartTime = getStartTime(teamId, schedule['dates'][j]['games'][0]['gameDate']);
                    if (convertedStartTime in startTimeToPoints) {
                        startTimeToPoints[convertedStartTime].push(pointsFromGame);
                    }
                    else {
                        startTimeToPoints[convertedStartTime] = [pointsFromGame];
                    }
                }
            }
            startTimeToPoints = sortByStartTime(startTimeToPoints);
            document.getElementById("p1").innerHTML = JSON.stringify(startTimeToPoints);
            document.getElementById("p2").innerHTML = `Total points earned: ` + totalPoints + `. Total games played: ` + totalGames + `. Average points percentage of ` + (totalPoints / (totalGames * 2)).toFixed(3);
            document.getElementById("p3").innerHTML = print(startTimeToPoints);
        }


        // Javascript used by the charts tab
        google.charts.load("current", { packages: ['corechart'] });

        document.getElementById("defaultOpen").click();

        var pointsPerGame = {}
        pointsPerGame["ana"] = { "9:30": [0], "10:00": [0, 2], "12:00": [0, 0, 2], "13:00": [0, 2, 0], "14:00": [2], "16:00": [0, 2, 0, 1, 0, 0, 0, 1, 1], "16:30": [2, 2, 2], "17:00": [0, 0, 1, 2, 2, 0, 2, 0], "17:30": [0, 1, 0, 0], "18:00": [0, 2, 0, 0, 1], "18:30": [1, 2], "19:00": [2, 2, 2, 2, 2, 2, 0, 1, 0, 2, 2, 0, 0, 2, 2, 0, 0, 2, 0, 0, 0, 0, 1, 2, 2, 2, 2, 0], "19:30": [0, 2] };
        pointsPerGame["ari"] = { "12:00": [0, 0], "13:00": [2, 2, 2], "15:00": [1, 1], "16:00": [2, 2, 0, 2, 2, 2, 2, 2, 0, 2, 2, 2, 0, 2, 1], "16:30": [0, 0], "17:00": [2, 2, 0, 2, 0, 1, 0, 0, 0, 0, 2, 1, 0, 2, 2, 0], "17:30": [0], "18:00": [0, 1, 2, 1, 0, 2, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0], "18:30": [2, 0, 1], "19:00": [0, 2, 2, 0, 0, 0, 0, 2], "19:30": [2, 2] };
        pointsPerGame["bos"] = { "12:30": [0, 0], "13:00": [2, 2, 1, 0, 2, 2], "15:00": [2], "15:30": [2], "18:00": [2], "19:00": [2, 1, 1, 2, 2, 2, 2, 2, 1, 1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 0, 0, 0, 2, 1, 1, 1, 2, 2, 2, 1, 2, 2, 1, 0, 2, 2, 2, 0, 2, 2], "19:30": [0, 0, 0, 2, 2, 2], "20:00": [2, 2, 2, 2, 0], "20:30": [2, 2], "21:00": [2, 0, 2], "22:00": [2, 0] };
        pointsPerGame["buf"] = { "13:00": [0, 1, 2, 2, 0, 2, 2], "14:00": [0], "15:00": [2, 0, 2], "16:00": [2, 1], "17:00": [2, 2], "18:00": [0], "19:00": [2, 2, 1, 2, 2, 2, 0, 1, 0, 1, 2, 0, 0, 0, 0, 1, 1, 2, 2, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 1, 2, 2, 2, 2, 0, 2], "19:30": [2, 2, 0, 0], "20:00": [2, 0, 0, 0, 0, 0, 0], "20:30": [2], "21:00": [0], "22:00": [0, 0], "22:30": [2, 2] };
        pointsPerGame["cal"] = { "11:00": [2], "14:00": [0, 0, 0, 2, 0, 2], "15:00": [0], "16:00": [2], "17:00": [0, 0, 0, 1, 2, 2, 2, 2, 0, 2, 2, 2, 0], "18:00": [2, 0, 1], "18:30": [2, 2, 2], "19:00": [0, 1, 2, 2, 2, 0, 2, 2, 2, 0, 2, 2, 2, 2, 0, 1, 2, 0, 2, 2, 1, 0, 0, 0, 2], "19:30": [0, 0], "20:00": [2, 0, 0, 0, 1, 1, 2, 2, 2, 0, 2, 0, 2, 0], "20:30": [2] };
        pointsPerGame["car"] = { "13:00": [2], "13:30": [2], "14:00": [2, 0, 2, 2], "16:00": [2, 1], "17:00": [2, 0, 2], "18:00": [0], "19:00": [2, 2, 2, 0, 1, 2, 0, 0, 0, 2, 2, 0, 2, 2, 0, 2, 0, 2, 2, 0, 0, 2, 2, 2, 2, 0, 0, 2, 2, 0, 2, 0, 0, 1, 0], "19:30": [2, 2, 0, 0, 2, 1, 0, 2], "20:00": [2, 0, 2], "20:30": [2, 0], "21:00": [2, 2, 2], "22:00": [0, 1, 2], "22:30": [2, 0] };
        pointsPerGame["chi"] = { "12:00": [0], "13:00": [0], "14:00": [0], "15:00": [0], "16:00": [2], "17:00": [2], "18:00": [1, 0, 2, 1, 2, 2, 2, 2, 1, 2, 2, 2, 0, 2], "18:30": [2, 2, 2, 0, 0], "19:00": [0, 2, 2, 1, 2, 0, 0, 2, 2, 1, 1, 0, 0, 2], "19:30": [0, 2, 2, 1, 0, 2, 0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 2, 2, 2], "20:00": [0, 0, 2, 2, 0], "20:30": [1], "21:00": [0, 2, 0, 0, 2], "21:30": [0] };
        pointsPerGame["col"] = { "13:00": [2, 2], "14:00": [2], "15:00": [2], "16:00": [2], "17:00": [1, 2, 2, 0, 2, 2, 2, 1, 2, 0, 0, 2, 2, 2, 2], "17:30": [0, 2, 2, 2], "18:00": [0, 0, 2, 0, 0, 2, 0, 0, 0, 2], "18:30": [0], "19:00": [2, 2, 2, 2, 0, 0, 2, 2, 0, 2, 2, 1, 2, 0, 0, 1, 1, 2, 2, 1], "19:30": [2, 2, 0, 1], "20:00": [1, 2, 2, 2, 2, 2, 0, 2, 2], "20:30": [2, 0] };
        pointsPerGame["cbj"] = {"13:00":[1,0,1],"14:00":[2],"17:00":[1],"18:00":[0,1],"19:00":[0,0,2,0,2,2,1,2,2,0,0,1,2,2,2,0,2,0,2,0,0,0,0,2,1,2,2,2,2,1,2,2,2,2,2,2,2,2,0,1,0,0,1,2,0,2],"19:30":[0,2,2,1],"20:00":[1,1,0],"20:30":[1,1],"21:00":[2,0],"22:00":[2,2,2],"22:30":[2,0],"23:00":[0]};
        pointsPerGame["dal"] = { "13:00": [1, 2], "14:00": [0, 1, 2, 0], "15:00": [2], "17:00": [2, 1], "17:30": [2], "18:00": [0, 2, 0, 0, 2, 2, 0, 0, 2, 2, 2, 1, 2, 2, 2], "18:30": [0, 0], "19:00": [0, 0, 0, 2, 0, 0, 1, 2, 2, 2, 1, 0], "19:30": [0, 1, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 0, 2, 0, 0, 2, 2, 0, 1, 0], "20:00": [2, 2, 2, 0], "20:30": [2], "21:00": [2, 2, 2], "21:30": [0] };
        pointsPerGame["det"] = { "12:30": [2, 0], "13:00": [0], "15:00": [0], "16:00": [0], "17:00": [1, 2, 0, 2], "18:00": [0], "19:00": [2, 2, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 1], "19:30": [0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 2, 0, 2, 2, 1, 0, 2, 0, 0, 0, 2, 0], "20:00": [2, 0, 0, 0, 0], "20:30": [0], "21:00": [0, 0], "22:00": [0, 2], "22:30": [1, 1] };
        pointsPerGame["edm"] = { "10:00": [2], "11:00": [2, 2], "13:00": [2], "14:00": [0, 1, 2, 2], "17:00": [2, 2, 1, 0, 2, 1, 2, 2, 2, 0], "17:30": [0, 2], "18:00": [0, 2, 1, 0, 2], "18:30": [0, 0, 2, 0, 1, 2, 0], "19:00": [2, 2, 1, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 0, 2, 0, 1, 0], "19:30": [2, 0, 0], "20:00": [2, 2, 2, 0, 0, 2, 0, 0, 1, 2, 2, 1, 2], "20:30": [0, 2, 0, 0], "21:00": [2] };
        pointsPerGame["flo"] = { "13:00": [2, 0, 2, 0], "14:00": [0], "16:00": [2, 0, 2, 0], "17:00": [0, 2, 2], "18:00": [2, 1], "19:00": [0, 2, 0, 1, 1, 1, 2, 1, 2, 0, 2, 2, 2, 0, 0, 2, 0, 2, 0, 0, 0, 2, 2, 2, 0, 2, 2, 0, 0, 2, 2, 2, 2, 2, 1, 0, 0, 0, 2, 0, 0, 1], "19:30": [2], "20:00": [2, 2, 2, 2], "20:30": [2], "21:00": [1, 2], "22:00": [0, 2, 2, 0], "22:30": [0] };
        pointsPerGame["lak"] = { "10:00": [0], "13:00": [2, 0, 0, 2], "14:00": [2], "15:00": [2, 0], "16:00": [0, 0, 1, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0], "16:30": [0, 1], "17:00": [2, 0, 0, 2, 0], "18:00": [2, 0, 0, 2], "18:30": [2, 2], "19:00": [0, 0, 0, 2, 2, 0, 0, 0, 2, 0, 2, 0, 0, 2, 0, 2, 0], "19:30": [0, 0, 0, 2, 2, 2, 1, 2, 2, 0, 0, 0, 2, 1, 2, 2, 2, 2, 2] };
        pointsPerGame["min"] = { "12:00": [2], "13:00": [1, 0, 2], "14:00": [2], "15:00": [2, 0], "16:00": [2, 2, 0, 0], "17:00": [0, 0], "18:00": [0, 0, 1, 2, 1, 1, 2, 2, 2, 0, 2, 0, 1, 0, 2], "18:30": [0, 0, 2], "19:00": [0, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 2, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 2], "19:30": [0, 0, 2], "20:00": [0, 0, 2, 2, 2], "20:30": [2], "21:00": [2, 0], "21:30": [0, 0, 2, 2] };
        pointsPerGame["mon"] = { "14:00": [2, 0], "15:00": [2, 1], "17:00": [0], "18:00": [0], "19:00": [1, 2, 1, 0, 2, 0, 2, 0, 2, 1, 2, 2, 2, 1, 0, 0, 0, 0, 2, 0, 2, 2, 0, 0, 0, 0, 0, 0, 1, 0, 0, 2, 2, 2, 2, 0, 2, 2, 2, 2, 0, 0, 1, 2, 2, 1, 0, 2, 2, 0, 0], "19:30": [2, 1, 0, 2, 0, 0, 0, 0], "20:00": [2, 0], "21:00": [2], "22:00": [2, 2, 2] };
        pointsPerGame["nsh"] = { "12:00": [0], "13:00": [0, 2], "14:00": [2, 2], "17:00": [0, 2], "17:30": [0], "18:00": [2, 0, 0, 2, 2, 2, 0, 0, 0, 2], "18:30": [2, 2, 1, 2, 2], "19:00": [2, 0, 2, 2, 1, 2, 2, 2, 1, 0, 0, 0, 2, 2, 1, 1, 2, 2, 2, 0, 0, 0, 2, 0, 0, 2, 2, 0, 2, 2, 2, 0, 0, 2], "19:30": [2, 1], "20:00": [0, 0, 2], "21:00": [2, 0, 0, 1, 0], "21:30": [1, 2] };
        pointsPerGame["njd"] = { "13:00": [0, 2, 0, 2, 2], "16:00": [2, 1], "17:00": [2], "18:00": [2, 2], "19:00": [1, 0, 1, 0, 2, 0, 1, 1, 0, 2, 2, 0, 0, 2, 0, 0, 0, 1, 2, 0, 0, 1, 2, 0, 1, 0, 2, 2, 0, 0, 0, 1, 1, 2, 2, 0, 2, 0, 2, 2, 0], "19:30": [0, 2, 2, 1, 2], "20:00": [2, 0, 2, 0, 2, 2], "20:30": [0, 2], "21:00": [0, 0, 0], "22:00": [0], "22:30": [1] };
        pointsPerGame["nyi"] = { "13:00": [2, 2, 2, 1, 2, 0, 1, 0], "14:00": [1], "16:00": [0], "17:00": [1, 2], "18:00": [2, 2], "19:00": [0, 2, 0, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 0, 2, 2, 2, 0, 2, 0, 0, 0, 2, 2, 1, 0, 2, 0, 2, 2, 2, 0, 2, 2, 1, 0], "19:30": [0, 2, 2, 0], "20:00": [2, 0, 2, 1], "20:30": [0], "21:00": [0], "22:00": [0, 0, 1], "22:30": [1, 0, 0] };
        pointsPerGame["nyr"] = { "12:00": [0], "12:30": [2], "13:00": [0, 0, 2, 1, 1, 2], "15:30": [0], "16:00": [1], "18:00": [2], "19:00": [2, 2, 0, 0, 1, 2, 0, 0, 2, 0, 0, 2, 2, 2, 0, 2, 0, 2, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 2, 2, 0, 0, 2, 2, 2, 2, 2, 0, 0, 2], "19:30": [2, 2, 0, 2, 2], "20:00": [2, 2, 0, 2, 2, 2, 0], "20:30": [2], "21:00": [0, 0], "22:00": [0, 1], "22:30": [0, 2] };
        pointsPerGame["ott"] = { "13:00": [0, 0, 2], "14:00": [0], "16:00": [2, 0, 2], "17:00": [1], "18:00": [0, 2], "19:00": [0, 0, 0, 2, 2, 0, 2, 0, 2, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 2, 1, 0, 0, 1, 2, 0], "19:30": [0, 2, 0, 2, 2, 2, 2, 2, 2, 1, 2, 2, 0, 1, 1, 0, 1, 0, 1, 0, 2, 2, 0, 2, 2], "20:00": [0, 2], "20:30": [0], "21:00": [0], "21:30": [2], "22:00": [1, 0, 0], "22:30": [0] };
        pointsPerGame["phi"] = { "12:00": [2], "13:00": [1, 2, 2], "14:00": [2], "15:00": [2], "16:00": [2, 0], "17:00": [0], "18:00": [1], "19:00": [0, 2, 2, 0, 0, 2, 2, 2, 2, 2, 1, 0, 2, 2, 2, 2, 0, 0, 2, 2, 2, 2, 1, 0, 2, 0, 2, 1, 2, 0, 2, 2, 0, 2, 2, 2, 2, 2, 2, 2, 0], "19:30": [2, 1, 0, 2, 2, 2], "20:00": [0, 2, 2], "20:30": [2, 2], "21:00": [0, 0], "21:30": [0, 0], "22:00": [1, 0], "22:30": [0] };
        pointsPerGame["pit"] = { "12:00": [1, 0], "12:30": [2, 2, 2], "13:00": [0], "13:30": [0], "14:00": [0], "17:00": [0], "18:00": [2], "19:00": [0, 2, 0, 2, 2, 2, 2, 0, 0, 2, 0, 2, 2, 0, 2, 1, 1, 2, 2, 2, 0, 2, 2, 0, 2, 2, 2, 2, 1, 2, 2, 0, 2, 0, 2, 1, 2, 2, 0, 2, 2, 2], "19:30": [1, 2, 0], "20:00": [0, 2, 0, 2, 2], "20:30": [2], "21:00": [2, 2, 2], "22:00": [0, 2, 0], "22:30": [0, 0] };
        pointsPerGame["sjs"] = { "9:30": [1], "10:00": [2], "13:00": [2, 0], "14:00": [0, 2, 0], "16:00": [1, 2, 0, 0, 0, 1, 0, 2, 2, 0, 0, 0], "16:30": [0], "17:00": [0, 2, 0, 0, 1, 0], "17:30": [2], "18:00": [0, 0, 0, 2], "18:30": [2], "19:00": [0, 2, 2, 2, 2, 2, 0, 1, 0, 0], "19:30": [0, 0, 2, 0, 0, 2, 2, 2, 2, 0, 2, 2, 0, 0, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 0] };
        pointsPerGame["stl"] = { "12:00": [1], "14:00": [0, 2, 0, 0], "15:00": [1], "16:00": [2], "17:00": [0], "18:00": [2, 0, 0, 2, 1, 2, 0, 0, 2, 0], "18:30": [2, 0, 2, 2], "19:00": [1, 2, 1, 2, 2, 2, 2, 1, 0, 2, 2, 0, 1, 2, 0, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 0, 1, 2, 2, 2, 2, 2, 0], "19:30": [2, 2, 2, 2, 2], "20:00": [0, 2, 0], "20:30": [0], "21:00": [2, 2, 2, 0, 1, 2], "21:30": [2] };
        pointsPerGame["tbl"] = { "13:00": [2], "14:00": [2], "16:00": [0, 0, 2, 2], "17:00": [1, 1, 2, 1], "19:00": [2, 0, 2, 2, 2, 0, 1, 2, 0, 2, 2, 2, 0, 0, 0, 2, 0, 2, 2, 0, 2, 1, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 2, 2, 2, 0, 0, 2, 0], "19:30": [0, 2, 0], "20:00": [2, 0, 2, 0, 2, 1, 0, 2], "20:30": [2], "21:00": [2], "22:00": [2, 2, 0], "22:30": [2] };
        pointsPerGame["tml"] = { "14:00": [2], "16:00": [0], "18:00": [2, 2], "19:00": [2, 2, 1, 0, 0, 2, 2, 0, 2, 1, 0, 2, 0, 1, 2, 1, 0, 0, 0, 0, 2, 2, 2, 0, 0, 2, 2, 2, 2, 2, 2, 1, 2, 0, 0, 2, 1, 0, 2, 0, 2, 1, 2, 0, 2, 0, 0, 2, 0, 2, 2, 2, 2], "19:30": [2, 1, 2, 0], "20:00": [2, 2], "21:00": [2, 0], "22:00": [0, 2, 0], "22:30": [0, 1] };
        pointsPerGame["van"] = { "9:30": [2], "10:00": [0, 2, 2, 2], "11:00": [1], "13:00": [0, 2, 2], "14:00": [0], "16:00": [0, 0, 0, 0, 0, 2, 0, 0], "16:30": [2, 0], "17:00": [2, 0, 2, 0, 0, 0], "17:30": [0, 0], "18:00": [2], "18:30": [2], "19:00": [0, 0, 2, 2, 2, 1, 2, 1, 1, 2, 0, 1, 2, 0, 2, 0, 2, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 2, 2, 2, 0, 2], "19:30": [2, 2, 2, 1, 0] };
        pointsPerGame["vgk"] = { "12:00": [2], "13:00": [0, 2], "14:00": [0], "15:00": [0, 2, 2], "16:00": [2, 0, 2, 1, 0, 2, 2, 2, 1, 0, 0, 1, 0, 0, 2, 2], "16:30": [2, 2], "17:00": [2, 2, 0, 2, 2, 2, 0, 0], "17:30": [2, 0], "18:00": [1, 2], "19:00": [0, 0, 2, 2, 0, 2, 1, 0, 2, 1, 0, 2, 2, 1, 2, 0, 0, 2, 2, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2], "19:30": [2, 2, 2, 2, 0] };
        pointsPerGame["wsh"] = { "12:00": [2], "12:30": [1, 2, 0], "13:00": [0, 2, 0], "14:00": [2], "17:00": [0, 2], "18:00": [0], "19:00": [2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 0, 2, 2, 2, 2, 0, 2, 2, 0, 2, 2, 0, 2, 0, 2, 0, 2, 2, 2, 2, 0, 0, 1, 2, 0, 1, 1], "19:30": [2, 2, 0, 0, 2], "20:00": [2, 0, 2, 0, 0, 2], "21:00": [2, 1], "21:30": [2], "22:00": [2, 2, 2, 0], "22:30": [2] };
        pointsPerGame["win"] = { "12:00": [0], "13:00": [2, 2, 1, 0, 2], "14:00": [2, 0, 0], "15:00": [2, 2], "16:00": [2], "18:00": [0, 2, 0, 2, 2, 0, 2, 2, 2, 2, 0, 0, 0, 2, 2, 0, 1], "18:30": [0, 2, 0, 2], "19:00": [2, 0, 0, 0, 1, 2, 0, 2, 2, 2, 0, 0, 0, 1, 2, 0, 2, 0, 0, 1, 2, 0, 2, 2, 2, 2, 2], "19:30": [0, 1, 2], "20:00": [2, 2], "21:00": [2, 0, 0, 0], "21:30": [2, 2] };
        pointsPerGame["league"] = {"9:30":[0,1,2],"10:00":[0,2,2,0,2,0,2,2,2],"11:00":[2,2,2,1],"12:00":[0,0,2,0,0,0,2,0,0,2,1,0,1,2,2,0],"12:30":[0,0,2,0,2,2,2,2,1,2,0],"13:00":[0,2,0,2,2,2,2,2,1,0,2,2,0,1,2,2,0,2,2,2,0,2,2,1,0,1,1,2,0,2,2,0,2,0,2,0,0,2,1,0,2,0,2,0,2,0,2,2,2,2,2,1,2,0,1,0,0,0,2,1,1,2,0,0,2,1,2,2,0,2,0,2,0,2,2,0,2,0,2,0,2,2,1,0,2],"13:30":[2,0],"14:00":[2,0,0,0,0,2,0,2,2,0,2,2,0,2,2,0,1,2,0,0,1,2,2,0,2,2,2,0,2,2,1,0,2,0,0,2,0,0,2,0,0,2,2,0,0,2,2,0,0],"15:00":[1,1,2,2,0,2,0,0,2,2,0,2,0,2,0,2,1,2,1,0,2,2,2,2],"15:30":[2,0],"16:00":[0,2,0,1,0,0,0,1,1,2,2,0,2,2,2,2,2,0,2,2,2,0,2,1,2,1,2,2,1,2,2,0,2,0,2,0,0,0,1,2,2,1,0,1,0,0,0,0,0,2,2,0,0,2,1,0,1,2,0,2,2,0,1,2,0,0,0,1,0,2,2,0,0,0,2,0,0,2,2,0,0,0,0,0,0,2,0,0,2,0,2,1,0,2,2,2,1,0,0,1,0,0,2,2,2],"16:30":[2,2,2,0,0,0,1,0,2,0,2,2],"17:00":[0,0,1,2,2,0,2,0,2,2,0,2,0,1,0,0,0,0,2,1,0,2,2,0,2,2,0,0,0,1,2,2,2,2,0,2,2,2,0,2,0,2,2,1,2,2,0,2,2,2,1,2,0,0,2,2,2,2,1,2,1,1,2,0,2,2,2,1,0,2,1,2,2,2,0,0,2,2,2,0,0,2,0,0,0,0,0,2,2,1,2,1,0,0,0,2,0,0,1,0,0,1,1,2,1,2,0,2,0,0,0,2,2,0,2,2,2,0,0,0,2],"17:30":[0,1,0,0,0,0,2,2,2,2,0,2,0,2,0,0,2,0],"18:00":[0,2,0,0,1,0,1,2,1,0,2,0,0,2,2,2,2,2,0,0,0,2,0,2,0,1,0,1,0,2,1,2,2,2,2,1,2,2,2,0,2,0,0,2,0,0,2,0,0,0,2,0,1,0,2,0,0,2,2,0,0,2,2,2,1,2,2,2,0,0,2,1,0,2,2,1,2,0,0,2,0,0,1,2,1,1,2,2,2,0,2,0,1,0,2,0,2,0,0,2,2,2,0,0,0,2,2,2,2,2,2,0,2,1,2,0,0,0,2,2,0,0,2,1,2,0,0,2,0,2,2,2,1,2,0,0,2,0,2,2,0,2,2,2,2,0,0,0,2,2,0,1],"18:30":[1,2,2,0,1,2,2,2,2,2,2,0,0,0,0,0,0,0,2,0,1,2,0,2,2,0,0,2,2,2,1,2,2,2,2,0,2,2,2,0,2,0,2],"19:00":[2,2,2,2,2,2,0,1,0,2,2,0,0,2,2,0,0,2,0,0,0,0,1,2,2,2,2,0,0,2,2,0,0,0,0,2,2,1,1,2,2,2,2,2,1,1,2,1,2,2,2,2,2,2,2,1,0,0,0,2,1,1,1,2,2,2,1,2,2,1,0,2,2,2,0,2,2,2,2,1,2,2,2,0,1,0,1,2,0,0,0,0,1,1,2,2,0,0,0,0,0,2,2,0,0,0,1,2,2,2,2,0,2,0,1,2,2,2,0,2,2,2,0,2,2,2,2,0,1,2,0,2,2,1,0,0,0,2,2,2,2,0,1,2,0,0,0,2,2,0,2,2,0,2,0,2,2,0,0,2,2,2,2,0,0,2,2,0,2,0,0,1,0,0,2,2,1,2,0,0,2,2,1,1,0,0,2,2,2,2,2,0,0,2,2,0,2,2,1,2,0,0,1,1,2,2,1,0,0,2,0,2,2,1,2,2,0,0,1,2,2,2,0,2,0,2,0,0,0,0,2,1,2,2,2,2,1,2,2,2,2,2,2,2,2,0,1,0,0,1,2,0,2,0,0,0,2,0,0,1,2,2,2,1,0,2,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,1,2,2,1,2,2,2,2,0,0,0,2,2,2,0,2,0,1,0,0,2,0,1,1,1,2,1,2,0,2,2,2,0,0,2,0,2,0,0,0,2,2,2,0,2,2,0,0,2,2,2,2,2,1,0,0,0,2,0,0,1,0,0,0,2,2,0,0,0,2,0,2,0,0,2,0,2,0,0,0,2,0,2,0,2,2,2,1,2,2,2,0,2,0,2,2,2,1,2,0,2,1,2,1,0,2,0,2,0,2,1,2,2,2,1,0,0,0,0,2,0,2,2,0,0,0,0,0,0,1,0,0,2,2,2,2,0,2,2,2,2,0,0,1,2,2,1,0,2,2,0,0,2,0,2,2,1,2,2,2,1,0,0,0,2,2,1,1,2,2,2,0,0,0,2,0,0,2,2,0,2,2,2,0,0,2,1,0,1,0,2,0,1,1,0,2,2,0,0,2,0,0,0,1,2,0,0,1,2,0,1,0,2,2,0,0,0,1,1,2,2,0,2,0,2,2,0,0,2,0,2,2,2,2,2,2,1,2,2,2,2,2,0,2,2,2,0,2,0,0,0,2,2,1,0,2,0,2,2,2,0,2,2,1,0,2,2,0,0,1,2,0,0,2,0,0,2,2,2,0,2,0,2,0,0,0,2,2,2,2,2,0,0,2,2,0,0,2,2,2,2,2,0,0,2,0,0,0,2,2,0,2,0,2,0,0,0,0,0,1,1,0,0,0,1,2,1,0,0,1,2,0,0,2,2,0,0,2,2,2,2,2,1,0,2,2,2,2,0,0,2,2,2,2,1,0,2,0,2,1,2,0,2,2,0,2,2,2,2,2,2,2,0,0,2,0,2,2,2,2,0,0,2,0,2,2,0,2,1,1,2,2,2,0,2,2,0,2,2,2,2,1,2,2,0,2,0,2,1,2,2,0,2,2,2,0,2,2,2,2,2,0,1,0,0,1,2,1,2,2,2,2,1,0,2,2,0,1,2,0,2,2,2,2,2,2,2,2,1,2,0,1,2,2,2,2,2,0,2,0,2,2,2,0,1,2,0,2,2,2,0,0,0,2,0,2,2,0,2,1,0,2,2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,0,0,2,0,2,2,1,0,0,2,2,0,2,1,0,2,0,1,2,1,0,0,0,0,2,2,2,0,0,2,2,2,2,2,2,1,2,0,0,2,1,0,2,0,2,1,2,0,2,0,0,2,0,2,2,2,2,0,0,2,2,2,1,2,1,1,2,0,1,2,0,2,0,2,0,0,2,2,2,2,2,2,2,2,2,0,2,2,2,0,2,0,0,2,2,0,2,1,0,2,1,0,2,2,1,2,0,0,2,2,0,0,0,1,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,0,2,2,2,2,0,2,2,0,2,2,0,2,0,2,0,2,2,2,2,0,0,1,2,0,1,1,2,0,0,0,1,2,0,2,2,2,0,0,0,1,2,0,2,0,0,1,2,0,2,2,2,2,2],"19:30":[0,2,2,2,0,0,0,2,2,2,2,2,0,0,0,0,2,2,0,0,2,1,0,2,0,2,2,1,0,2,0,0,0,0,2,0,0,2,0,0,2,2,2,2,2,0,1,0,2,2,1,0,1,2,2,2,2,2,2,2,0,2,2,0,2,0,0,2,2,0,1,0,0,0,0,0,2,0,0,2,0,0,2,0,2,0,2,2,1,0,2,0,0,0,2,0,2,0,0,2,0,0,0,2,2,2,1,2,2,0,0,0,2,1,2,2,2,2,2,0,0,2,2,1,0,2,0,0,0,0,2,1,0,2,2,1,2,0,2,2,0,2,2,0,2,2,0,2,0,2,2,2,2,2,2,1,2,2,0,1,1,0,1,0,1,0,2,2,0,2,2,2,1,0,2,2,2,1,2,0,0,0,2,0,0,2,2,2,2,0,2,2,0,0,0,0,0,2,2,2,2,0,0,0,2,2,2,0,2,2,2,2,2,0,2,0,2,1,2,0,2,2,2,1,0,2,2,2,2,0,2,2,0,0,2,0,1,2],"20:00":[2,2,2,2,0,2,0,0,0,0,0,0,2,0,0,0,1,1,2,2,2,0,2,0,2,0,2,0,2,0,0,2,2,0,1,2,2,2,2,2,0,2,2,1,1,0,2,2,2,0,2,0,0,0,0,2,2,2,0,0,2,0,0,1,2,2,1,2,2,2,2,2,0,0,2,2,2,2,0,0,0,2,2,0,2,0,2,2,2,0,2,1,2,2,0,2,2,2,0,0,2,0,2,2,0,2,0,2,2,0,2,0,2,0,2,0,2,1,0,2,2,2,2,0,2,0,0,2,2,2],"20:30":[2,2,2,2,2,0,1,2,0,1,1,2,0,0,2,0,0,2,2,0,2,0,2,0,2,2,2,0,2],"21:00":[2,0,2,0,2,2,2,0,2,0,0,2,2,0,2,2,2,0,0,2,1,2,2,0,2,2,0,0,1,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,0,1,2,2,2,0,2,1,2,0,0,0],"21:30":[0,0,0,0,2,2,1,2,2,0,0,2,2,2,2],"22:00":[2,0,0,0,0,1,2,2,2,2,0,2,0,2,2,0,2,2,2,0,0,0,1,0,1,1,0,0,1,0,0,2,0,2,2,0,0,2,0,2,2,2,0],"22:30":[2,2,2,0,2,0,1,1,0,1,1,0,0,0,2,0,0,0,0,2,0,1,2],"23:00":[0]};

        // Converts an object of start time to array of points earned to sorted object of start time and points percentage of those points
        function getPointsPercentages(startTimeToPointsPerGame) {
            var startTimeToPointsPercentage = {};
            for (var startTime in startTimeToPointsPerGame) {
                var totalPoints = startTimeToPointsPerGame[startTime].reduce((a, b) => a + b, 0);
                var percentage = totalPoints / (startTimeToPointsPerGame[startTime].length * 2);
                startTimeToPointsPercentage[startTime] = percentage;
            }
            return startTimeToPointsPercentage;
        }

        function drawChart(startTimeToPointsPerGame, team) {
            startTimeToPointsPercentage = getPointsPercentages(startTimeToPointsPerGame);
            var startTimes = Object.keys(startTimeToPointsPercentage);
            var dataTable = new google.visualization.DataTable();
            dataTable.addColumn('string', 'Start Time');
            dataTable.addColumn('number', 'Points Percentage');
            // A column for custom tooltip content
            dataTable.addColumn({ 'type': 'string', 'role': 'tooltip', 'p': { 'html': true } })
            startTimes.forEach(startTime => {
                var totalPoints = startTimeToPointsPerGame[startTime].reduce(sum);
                var tooltip = "<font size=4> Points percentage: " + startTimeToPointsPercentage[startTime].toFixed(3) + " <br> Points earned/possible points: " + totalPoints + "/" + startTimeToPointsPerGame[startTime].length * 2 + "</font>";
                dataTable.addRow([startTime, startTimeToPointsPercentage[startTime], tooltip])
            });
            var options = {
                title: "Points Percentage vs Start Time",
                width: 1200,
                height: 600,
                bar: { groupWidth: "95%" },
                legend: { position: "none" },
                tooltip: { isHtml: true },
            };
            var chart = new google.visualization.ColumnChart(document.getElementById(team));
            chart.draw(dataTable, options);
        }

        function sum(total, num) {
            return total + num;
        }

        function showChart(button) {
            var graph = document.getElementById(button.value);
            var jsonText = document.getElementById(button.value + "Json");
            if (graph.style.display === "none") {
                graph.style.display = "block";
                drawChart(pointsPerGame[button.value], button.value);
                jsonText.style.display = "block";
                jsonText.innerHTML = print(pointsPerGame[button.value]);
            } else {
                graph.style.display = "none";
                jsonText.style.display = "none";
            }
        }

        function openPage(pageName, elmnt) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].style.backgroundColor = "";
            }
            document.getElementById(pageName).style.display = "block";
            elmnt.style.backgroundColor = "gray";
        }
    </script>
</body>

</html>